---
import BaseLayout from '../../layouts/BaseLayout.astro';
import BlogCard from '../../components/BlogCard.astro';

const allPosts = await Astro.glob('./*.md');
const sortedPosts = allPosts.sort((a, b) =>
  new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);
---

<BaseLayout
  title="Articles"
  description="Browse all articles about web development, programming tutorials, and technology insights."
>
  <div class="blog-page">
    <header class="page-header">
      <h1>Articles</h1>
      <p>Writings on development, technology, and the web.</p>
    </header>

    <div class="articles">
      {sortedPosts.map((post) => (
        <BlogCard
          title={post.frontmatter.title}
          description={post.frontmatter.description}
          pubDate={new Date(post.frontmatter.pubDate)}
          url={post.url || ''}
        />
      ))}
    </div>
  </div>
</BaseLayout>

<style>
  .blog-page {
    max-width: 680px;
    margin: 0 auto;
  }

  .page-header {
    padding-bottom: 2.5rem;
    border-bottom: 1px solid #e5e5e5;
    margin-bottom: 0;
  }

  .page-header h1 {
    font-size: 2.5rem;
    margin-bottom: 0.75rem;
    letter-spacing: -0.03em;
  }

  .page-header p {
    font-size: 1.125rem;
    color: #666;
    margin-bottom: 0;
  }

  .articles {
    margin-top: 0;
  }
</style>
